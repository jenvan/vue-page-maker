(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["index"],{0:function(e,t,a){e.exports=a("4bc3")},1:function(e,t){},"4bc3":function(e,t,a){"use strict";a.r(t);var r=a("3835"),n=a("a026"),o=a("5c96"),s=a.n(o),u=(a("0fae"),a("822f"),a("77ed")),i=a.n(u),c=a("8c4f");n["default"].use(c["a"]);var d=[{path:"/:action(view|edit|new)?",name:"maker",component:function(){return a.e("chunk-17679533").then(a.bind(null,"3f03"))},props:function(e){return{action:e.params.action,id:e.query.id,name:e.query.name}}},{path:"*",hidden:!0,redirect:{name:"maker"}}],l=new c["a"]({mode:"hash",routes:[].concat(d),scrollBehavior:function(){return{x:0,y:0}}});l.afterEach((function(e,t){var a="VUE-PAGE-MAKER";e.meta.title&&(document.title="".concat(e.meta.title," | ").concat(a))}));var f=l,p=a("53ca"),m=a("bc3a"),g=a.n(m),h=a("4328"),y=a.n(h),b=null;function w(e){var t=g.a.defaults.baseURL+"/auth?code="+Math.random().toString(36).substr(3,4),a=0,r=setInterval((function(){if(a++>60)return clearInterval(r),document.querySelector(".el-message-box .el-button--default").click(),setTimeout((function(){w(e)}),1e3);g.a.get(t+"&check="+Math.random).then((function(t){"object"==Object(p["a"])(t)&&"string"==typeof t["sign"]&&(localStorage.setItem("profile",JSON.stringify(t)),clearInterval(r),document.querySelector(".el-message-box .el-button--default").click(),Object(o["Message"])({type:"success",message:"验证成功"}),999==e&&window.location.reload(!0))}))}),5e3);Object(o["MessageBox"])({dangerouslyUseHTMLString:!0,title:"请微信扫码登录",message:"<img src='"+t+"' width='200'>",duration:0,showClose:!1,showConfirmButton:!1,showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,closeOnHashChange:!1,center:!0,roundButton:!0}),localStorage.removeItem("profile")}g.a.interceptors.request.use((function(e){b="get"==e.method?Object(o["Message"])({message:"加载中，请稍候 …",duration:0}):o["Loading"].service({fullscreen:!0,text:"请稍候 …"});var t="object"==Object(p["a"])(e.data)&&e.data instanceof FormData?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/x-www-form-urlencoded"};e.headers=Object.assign(e.headers,t,{"x-requested-with":"xmlhttprequest"});var a=localStorage.getItem("profile");return null!==a&&(e.headers["token"]=btoa(a)),e.paramsSerializer=function(e){return y.a.stringify(e,{arrayFormat:"repeat"})},e.transformRequest=[function(e,t){return e instanceof FormData?e:y.a.stringify(e,{arrayFormat:"brackets"})}],e.url+=(e.url.indexOf("?")>-1?"&":"?")+"rnd="+Math.random(),e})),g.a.interceptors.response.use((function(e){return b.close(),200!==e.status||"number"!=typeof e.data.rtn?(Object(o["Message"])({type:"error",message:"服务异常，请重试！",duration:1e4}),Promise.reject(e.data)):999==e.data.rtn||998==e.data.rtn?(Object(o["Message"])({type:"warning",message:"授权已失效！",duration:1e4}),w(e.data.rtn),Promise.reject(e.data)):9==e.data.rtn?(f.push({path:"/error",query:{msg:e.data.msg}}),Promise.reject(e.data)):0!=e.data.rtn?(Object(o["Message"])({type:"error",message:e.data.msg,duration:0,showClose:!0}),Promise.reject(e.data)):(e.data.msg.length>4&&Object(o["Message"])({type:"success",message:e.data.msg}),Promise.resolve(e.data.data))}),(function(e){Object(o["Message"])({type:"warning",message:"网络请求错误，请重试！",duration:5e3}),console.error("网络错误：",e)}));var v=g.a,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},j=[],x={name:"App",created:function(){}},M=x,$=a("2877"),k=Object($["a"])(M,O,j,!1,null,null,null),q=k.exports;new n["default"]({router:f,render:function(e){return e(q)}}).$mount("#app"),n["default"].use(i.a);var S=s.a.Loading,C=s.a.MessageBox,P=s.a.Message;n["default"].use(s.a),n["default"].use(S.directive),n["default"].prototype.$loading=S.service,n["default"].prototype.$alert=C.alert,n["default"].prototype.$confirm=C.confirm,n["default"].prototype.$prompt=C.prompt,n["default"].prototype.$msgbox=C,n["default"].prototype.$message=P,n["default"].prototype.$host="//api.fuchijihua.com",n["default"].prototype.$http=v,v.defaults.baseURL=n["default"].prototype.$host+"/maker",n["default"].prototype.$forward=function(e,t,a,r){var n=f.currentRoute.query,o=e;return"undefined"!=typeof t&&(o+=(o.indexOf("?")>-1?"&":"?")+(t.length>0?"id="+t:n["id"]?"id="+n["id"]:"")),"undefined"!=typeof a&&(o+=(o.indexOf("?")>-1?"&":"?")+(a.length>0?"name="+a:n["name"]?"name="+n["name"]:"")),"undefined"!=typeof r&&(o+=(o.indexOf("?")>-1?"&":"?")+"tag="+r),document.querySelector("#device").scrollTo(0,0),console.log("-=> forward:",o),f.push(o)},n["default"].prototype.$redirect=function(e){if("string"==typeof e&&0!=e.length&&null==document.querySelector(".editMode")){if(console.log("-=> redirect:",e),"http"==e.substring(0,4))return window.open(e,"_blank");var t=e.split("~"),a=Object(r["a"])(t,2),n=a[0],o=a[1];return/^[\w]{20,}$/.test(n)?this.$forward("",n,"",o):/^[\w]{1,10}$/.test(n)?this.$forward("","",n,o):f.push(n)}}},"822f":function(e,t,a){}},[[0,"user-runtime","user-vendors-polyfill"]]]);